                                    基于区块链出块大小和出块速度的研究

     前言

        区块链3.0之后区块链应用会迎来井喷似的发展，数据会越来越多，会越来越多样化。现在BTC生成的区块大小约为1M，每10分钟
    生成一次，并发交易量是每秒7笔，当前并BTC及以太坊并发速度已经严重不足。那么到达区块链3.0时代之后，区块链的数据块大小
    以及出块速度设置为多少较为合适，以及出块速度对交易并发量的影响，下面将对市场现有主流的公链进行研究分析。


     现有主流公链研究
    
    BTC研究
    
        比特币现在每10分钟产生一个区块，区块大小为1MB，每年的区块增长速度为10*6*24*365=52.56G，10年后，大概需要52T空间。

    ETH研究    
    
        以太坊大约12秒会产生一个区块。这个时间就是区块时间。区块时间是和挖矿难度相关的，比特币的难度调整是有对应算法的，
    算法会把区块时间维持在10分钟左右。以太坊也有对应的难度调整算法。以太坊的区块大小不同于比特币的区块大小，目前比特币
    的区块大小是1MB。因此，比特币一个区块中能够包含多少交易是取决于区块的大小以及每个交易的大小，一个区块中所有交易的总
    和不能超过区块的大小。但是，以太坊并没有固定的区块大小的限制，但是这样的话是如何确定一个区块中能够包含多少交易的呢？
    以太坊的区块中有一个gasLimit，它表示的是该区块中所能包含的交易的gas值的上限。以太坊上的每一笔交易都会消耗gas值，一个
    区块中所包含的所有交易的gas总和不能超过区块的gasLimit。因此，通过这种方式我们就能够控制一个区块中的交易数量。如果交
    易池中没有待处理的交易，那么矿工会直接进入挖矿过程，依旧会得到挖矿奖励，区块依旧会被打包和广播，只不过该区块中不
    会包含交易。
    
    
    EOS研究
    
        EOS理论上可以达到百万TPS，按照一个交易数据100字节，且满负荷的运转，1天的生产的区块数据量为
    1000000 * 100 * 60 * 60 * 24 = 8.4375T，一年的区块数据量为8.4375 * 365 = 3079T，5年后大约需要15398T的存储空间，另外
    还需要包括智能合约代码以及用户上传的图片、视频等数据，将会给矿场带来巨大的存储空间压力。

    结论

        影响传统区块链性能的因素包括区块大小、生成时间和交易确认速度。为了寻求平衡，数据区块大小以及出块的速度，需求要
    寻找一个平衡。区块交易确认时间过短，易导致较多孤块的出现，不安全，不利于交易确认，还浪费资源。矿工一边挖矿，一边互
    相交流确认信息，确认自己是否在主链上，确认交易信息时易受网速影响。有的矿工生成了块，却发现它们不在主链上，也就是孤
    块，只能丢弃，造成浪费。确认时间越短可能越容易出现孤块。个人感觉每5－30秒动态出一个块，可能会比较适合，生成区块可
    参考以太坊，一个区块中所包含的所有交易的gas总和不能超过区块的gasLimit，如果在30秒内生成的交易数据没有达到gasLimit，
    也继续生成新的区块，至于是否可行或如何实现，以后还得继续进行深入研究。
    

    作者：康威
    参考信息来自互联网
